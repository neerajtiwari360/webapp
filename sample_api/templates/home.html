{% extends "basic.html" %}

{% load static %}

{% block load_css %}
    <link rel="stylesheet" href="{% static 'home.css' %}" type="text/css">
{% endblock %}

{% block content %}
    <div id="main_div">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div id="div1">
                <p id="dummy_input">Upload image</p>
                {{ form }}                
            </div>   
            
            <div id="div2">
                <input type="submit" name="Submit" value="RGB_GRAY" id="submit1">
                <input type="submit" name="Submit" value="RGB_XYZ" id="submit2">
            </div>            
        </form>

        <div id="div3">
            <button onclick="previewImage()" id="prev_img">Preview image</button>
        </div>        
    </div>

    <div id="ori_img">
        <img id="preview" src="{{ current_img.img.url|default_if_none:'#' }}" alt="Original Image" style="width: 100%;">
    </div>

    <div id="mod_img">
        <img src="{{ current_img.modified.url|default_if_none:'#' }}" alt="Modified Image" style="width: 100%;">
    </div>   

    <a download="result.jpg" href="{{ current_img.modified.url }}">
        <p id="down_but">Download</p>
    </a>

    <script src="{% static '/home.js' %}" type="text/javascript"></script>

{% endblock %}
{% extends "basic.html" %}

{% load static %}

{% block load_css %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    
    <link rel="stylesheet" href="{% static 'home.css' %}" type="text/css">
{% endblock %}

{% block content %}

    <div id="main_div">
        <div id="div4">
            <a download="3d_model.glb" href="static/default.glb" id="down_link2">
                <button class="btn btn-outline-success my-2 my-sm-0" id="downloadZipBtn">Download .glb</button>
            </a>
        </div>
    
        <form method="POST" enctype="multipart/form-data" id="form1">
            {% csrf_token %}
            <div id="div1">
                <p id="dummy_input">Upload Image</p>
                <input type="file" id="imageInput" accept="image/*">
            </div>
        </form>

        <div id="div3">
            <button onclick="previewImage()" id="prev_img">Preview Image</button>
        </div>
    
        <div id="div2">
            <button class="btn btn-outline-success my-2 my-sm-0" id="createFramesBtn" onclick="create_model()">Generate 3D model</button>
        </div>
    </div>

    <div id="ori_img">
        <img id="preview" src="/media/temp.png" alt="Image" style="width: 100%;">
    </div>
    
    <div id="mod_img">
        <model-viewer id="model" camera-controls touch-action="pan-y" src="/static/default.glb" alt="A 3D model"></model-viewer>
    </div>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script> -->
    <script src="{% static '/home.js' %}" type="text/javascript"></script>
    <script src="{% static '/jquery.min.js' %}" type="text/javascript"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

{% endblock %}